// Generated by purs version 0.14.5
"use strict";
var Control_Alt = require("../Control.Alt/index.js");
var Control_Applicative = require("../Control.Applicative/index.js");
var Control_Bind = require("../Control.Bind/index.js");
var Control_Category = require("../Control.Category/index.js");
var Control_Comonad = require("../Control.Comonad/index.js");
var Control_Comonad_Cofree = require("../Control.Comonad.Cofree/index.js");
var Control_Monad_Error_Class = require("../Control.Monad.Error.Class/index.js");
var Control_Monad_Reader_Class = require("../Control.Monad.Reader.Class/index.js");
var Control_Monad_Reader_Trans = require("../Control.Monad.Reader.Trans/index.js");
var Control_Monad_State_Class = require("../Control.Monad.State.Class/index.js");
var Control_Monad_State_Trans = require("../Control.Monad.State.Trans/index.js");
var Control_Plus = require("../Control.Plus/index.js");
var Data_Argonaut_Core = require("../Data.Argonaut.Core/index.js");
var Data_Argonaut_Encode_Class = require("../Data.Argonaut.Encode.Class/index.js");
var Data_Argonaut_Parser = require("../Data.Argonaut.Parser/index.js");
var Data_Array = require("../Data.Array/index.js");
var Data_Boolean = require("../Data.Boolean/index.js");
var Data_Either = require("../Data.Either/index.js");
var Data_Eq = require("../Data.Eq/index.js");
var Data_Foldable = require("../Data.Foldable/index.js");
var Data_FoldableWithIndex = require("../Data.FoldableWithIndex/index.js");
var Data_Functor = require("../Data.Functor/index.js");
var Data_FunctorWithIndex = require("../Data.FunctorWithIndex/index.js");
var Data_Generic_Rep = require("../Data.Generic.Rep/index.js");
var Data_HashMap = require("../Data.HashMap/index.js");
var Data_Hashable = require("../Data.Hashable/index.js");
var Data_Map_Internal = require("../Data.Map.Internal/index.js");
var Data_Maybe = require("../Data.Maybe/index.js");
var Data_Medea_Analysis = require("../Data.Medea.Analysis/index.js");
var Data_Medea_JSONType = require("../Data.Medea.JSONType/index.js");
var Data_Medea_Parser_Primitive = require("../Data.Medea.Parser.Primitive/index.js");
var Data_Medea_ValidJSON = require("../Data.Medea.ValidJSON/index.js");
var Data_Natural = require("../Data.Natural/index.js");
var Data_Newtype = require("../Data.Newtype/index.js");
var Data_NonEmpty = require("../Data.NonEmpty/index.js");
var Data_Ord = require("../Data.Ord/index.js");
var Data_Set = require("../Data.Set/index.js");
var Data_Show = require("../Data.Show/index.js");
var Data_Show_Generic = require("../Data.Show.Generic/index.js");
var Data_These = require("../Data.These/index.js");
var Data_Traversable = require("../Data.Traversable/index.js");
var Data_Tuple = require("../Data.Tuple/index.js");
var Data_Unfoldable = require("../Data.Unfoldable/index.js");
var Data_Unit = require("../Data.Unit/index.js");
var Effect_Aff_Class = require("../Effect.Aff.Class/index.js");
var Foreign_Object = require("../Foreign.Object/index.js");
var Node_Encoding = require("../Node.Encoding/index.js");
var Node_FS_Aff = require("../Node.FS.Aff/index.js");
var EmptyError = (function () {
    function EmptyError() {

    };
    EmptyError.value = new EmptyError();
    return EmptyError;
})();
var NotJSON = (function () {
    function NotJSON() {

    };
    NotJSON.value = new NotJSON();
    return NotJSON;
})();
var WrongType = (function () {
    function WrongType(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    WrongType.create = function (value0) {
        return function (value1) {
            return new WrongType(value0, value1);
        };
    };
    return WrongType;
})();
var NotOneOfOptions = (function () {
    function NotOneOfOptions(value0) {
        this.value0 = value0;
    };
    NotOneOfOptions.create = function (value0) {
        return new NotOneOfOptions(value0);
    };
    return NotOneOfOptions;
})();
var AdditionalPropFoundButBanned = (function () {
    function AdditionalPropFoundButBanned(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    AdditionalPropFoundButBanned.create = function (value0) {
        return function (value1) {
            return new AdditionalPropFoundButBanned(value0, value1);
        };
    };
    return AdditionalPropFoundButBanned;
})();
var RequiredPropertyIsMissing = (function () {
    function RequiredPropertyIsMissing(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    RequiredPropertyIsMissing.create = function (value0) {
        return function (value1) {
            return new RequiredPropertyIsMissing(value0, value1);
        };
    };
    return RequiredPropertyIsMissing;
})();
var OutOfBoundsArrayLength = (function () {
    function OutOfBoundsArrayLength(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    OutOfBoundsArrayLength.create = function (value0) {
        return function (value1) {
            return new OutOfBoundsArrayLength(value0, value1);
        };
    };
    return OutOfBoundsArrayLength;
})();
var ImplementationError = (function () {
    function ImplementationError(value0) {
        this.value0 = value0;
    };
    ImplementationError.create = function (value0) {
        return new ImplementationError(value0);
    };
    return ImplementationError;
})();
var AnySchema = (function () {
    function AnySchema() {

    };
    AnySchema.value = new AnySchema();
    return AnySchema;
})();
var NullSchema = (function () {
    function NullSchema() {

    };
    NullSchema.value = new NullSchema();
    return NullSchema;
})();
var BooleanSchema = (function () {
    function BooleanSchema() {

    };
    BooleanSchema.value = new BooleanSchema();
    return BooleanSchema;
})();
var NumberSchema = (function () {
    function NumberSchema() {

    };
    NumberSchema.value = new NumberSchema();
    return NumberSchema;
})();
var StringSchema = (function () {
    function StringSchema() {

    };
    StringSchema.value = new StringSchema();
    return StringSchema;
})();
var ArraySchema = (function () {
    function ArraySchema() {

    };
    ArraySchema.value = new ArraySchema();
    return ArraySchema;
})();
var ObjectSchema = (function () {
    function ObjectSchema() {

    };
    ObjectSchema.value = new ObjectSchema();
    return ObjectSchema;
})();
var StartSchema = (function () {
    function StartSchema() {

    };
    StartSchema.value = new StartSchema();
    return StartSchema;
})();
var UserDefined = (function () {
    function UserDefined(value0) {
        this.value0 = value0;
    };
    UserDefined.create = function (value0) {
        return new UserDefined(value0);
    };
    return UserDefined;
})();
var ValidatedJSON = function (x) {
    return x;
};
var validAgainst = function (v) {
    return Control_Comonad.extract(Control_Comonad_Cofree.comonadCofree(Data_Medea_ValidJSON.functorValidJSONF))(v);
};
var textify = function (v) {
    return v;
};
var showValidationError = {
    show: function (v) {
        if (v instanceof WrongType) {
            return "WrongType " + (Data_Argonaut_Core.stringify(v.value0) + (" type: " + Data_Show.show(Data_Medea_JSONType.showJSONType)(v.value1)));
        };
        if (v instanceof EmptyError) {
            return "EmptyError";
        };
        if (v instanceof NotJSON) {
            return "NotJSON";
        };
        if (v instanceof NotOneOfOptions) {
            return "NotOneOfOptions " + Data_Argonaut_Core.stringify(v.value0);
        };
        if (v instanceof AdditionalPropFoundButBanned) {
            return "AdditionalPropFoundButBanned " + (v.value0 + ("  " + v.value1));
        };
        if (v instanceof RequiredPropertyIsMissing) {
            return "RequiredPropertyIsMissing " + (v.value0 + v.value1);
        };
        if (v instanceof OutOfBoundsArrayLength) {
            return "OutOfBoundsArrayLength " + (v.value0 + (" " + Data_Argonaut_Core.stringify(v.value1)));
        };
        if (v instanceof ImplementationError) {
            return "ImplementationError " + v.value0;
        };
        throw new Error("Failed pattern match at Data.Medea (line 125, column 1 - line 134, column 61): " + [ v.constructor.name ]);
    }
};
var semigroupValidationError = {
    append: function (v) {
        return function (v1) {
            if (v instanceof EmptyError) {
                return v1;
            };
            return v;
        };
    }
};
var pairKeyVal = Data_FunctorWithIndex.mapWithIndex(Data_HashMap.functorWithIndexHashMap)(Data_Tuple.Tuple.create);
var monoidValidationError = {
    mempty: EmptyError.value,
    Semigroup0: function () {
        return semigroupValidationError;
    }
};
var lookupSchema = function (dictMonadReader) {
    return function (dictMonadError) {
        return function (ident) {
            return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_Reader_Class.asks(dictMonadReader.MonadAsk0())((function () {
                var $352 = Data_Map_Internal.lookup(Data_Medea_Parser_Primitive.ordIdentifier)(ident);
                var $353 = Data_Newtype.unwrap();
                return function ($354) {
                    return $352($353($354));
                };
            })()))(function (mscm) {
                if (mscm instanceof Data_Maybe.Nothing) {
                    return Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(new ImplementationError("Unreachable state: we should not be able to find this schema"));
                };
                if (mscm instanceof Data_Maybe.Just) {
                    return Control_Applicative.pure(((dictMonadError.MonadThrow0()).Monad0()).Applicative0())(mscm.value0);
                };
                throw new Error("Failed pattern match at Data.Medea (line 223, column 3 - line 225, column 25): " + [ mscm.constructor.name ]);
            });
        };
    };
};
var pairPropertySchemaAndVal = function (dictAlternative) {
    return function (dictMonadReader) {
        return function (dictMonadError) {
            return function (obj) {
                return function (parIdent) {
                    var pairProperty = function (v) {
                        return function (v1) {
                            var v2 = Data_HashMap.lookup(Data_Hashable.hashableString)(v1.value0)(v.value0.props);
                            if (v2 instanceof Data_Maybe.Just) {
                                return Control_Applicative.pure(dictAlternative.Applicative0())(new Data_Tuple.Tuple(v1.value1, v2.value0.value0));
                            };
                            if (v2 instanceof Data_Maybe.Nothing) {
                                if (v.value0.additionalProps) {
                                    return Control_Applicative.pure(dictAlternative.Applicative0())(new Data_Tuple.Tuple(v1.value1, v.value0.additionalPropSchema));
                                };
                                if (Data_Boolean.otherwise) {
                                    return Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(AdditionalPropFoundButBanned.create(textify(parIdent))(v1.value0));
                                };
                            };
                            throw new Error("Failed pattern match at Data.Medea (line 301, column 7 - line 308, column 82): " + [ v2.constructor.name ]);
                        };
                    };
                    var isMatched = function (v) {
                        return Control_Applicative.when(dictAlternative.Applicative0())(Data_Maybe.isNothing(Data_HashMap.lookup(Data_Hashable.hashableString)(v.value0)(obj)) && !v.value1.value1)(Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(RequiredPropertyIsMissing.create(textify(parIdent))(v.value0)));
                    };
                    return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(lookupSchema(dictMonadReader)(dictMonadError)(parIdent))(function (v) {
                        return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Data_Traversable.traverse(Data_HashMap.traversableHashMap)(dictAlternative.Applicative0())(pairProperty(v))(Data_FunctorWithIndex.mapWithIndex(Data_HashMap.functorWithIndexHashMap)(Data_Tuple.Tuple.create)(obj)))(function (mappedObj) {
                            return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Data_Foldable.traverse_(dictAlternative.Applicative0())(Data_HashMap.foldableHashMap)(isMatched)(Data_FunctorWithIndex.mapWithIndex(Data_HashMap.functorWithIndexHashMap)(Data_Tuple.Tuple.create)(v.value0.props)))(function () {
                                return Control_Applicative.pure(dictAlternative.Applicative0())(mappedObj);
                            });
                        });
                    });
                };
            };
        };
    };
};
var joinThisThat$prime = function (dictPartial) {
    return function (v) {
        return function (v1) {
            if (v instanceof Data_These.This && v1 instanceof Data_These.That) {
                return new Data_These.Both(v.value0, v1.value0);
            };
            throw new Error("Failed pattern match at Data.Medea (line 238, column 1 - line 238, column 76): " + [ v.constructor.name, v1.constructor.name ]);
        };
    };
};
var joinThisThat = joinThisThat$prime();
var mergeHashMapsWithKeyM = function (dictMonad) {
    return function (dictEq) {
        return function (dictHashable) {
            return function (f) {
                return function (hm1) {
                    return function (hm2) {
                        var merged = Data_HashMap.unionWith(dictHashable)(joinThisThat)(Data_Functor.map(Data_HashMap.functorHashMap)(Data_These.This.create)(hm1))(Data_Functor.map(Data_HashMap.functorHashMap)(Data_These.That.create)(hm2));
                        return Data_Traversable.traverse(Data_HashMap.traversableHashMap)(dictMonad.Applicative0())(Data_Tuple.uncurry(f))(pairKeyVal(merged));
                    };
                };
            };
        };
    };
};
var isCustom = function (v) {
    if (v instanceof Data_Medea_Analysis.CustomNode) {
        return true;
    };
    return false;
};
var hashmapEncodeJson = function (hsj) {
    var go = function (k) {
        return function (v) {
            return function (acc) {
                var ins = function (o) {
                    return Foreign_Object.insert(k)(v)(o);
                };
                return Data_Argonaut_Core.fromObject(Data_Argonaut_Core.caseJsonObject(Foreign_Object.empty)(ins)(acc));
            };
        };
    };
    return Data_FoldableWithIndex.foldlWithIndex(Data_HashMap.foldableWithIndexHashMap)(go)(Data_Argonaut_Core.jsonEmptyObject)(hsj);
};
var toJSONValue = function (v) {
    var f = Control_Comonad_Cofree.tail(v);
    if (f instanceof Data_Medea_ValidJSON.AnythingF) {
        return Data_Newtype.unwrap()(f.value0);
    };
    if (f instanceof Data_Medea_ValidJSON.NullF) {
        return Data_Argonaut_Core.jsonNull;
    };
    if (f instanceof Data_Medea_ValidJSON.BooleanF) {
        if (f.value0) {
            return Data_Argonaut_Core.jsonTrue;
        };
        return Data_Argonaut_Core.jsonFalse;
    };
    if (f instanceof Data_Medea_ValidJSON.NumberF) {
        return Data_Argonaut_Encode_Class.encodeJson(Data_Argonaut_Encode_Class.encodeJsonJNumber)(f.value0);
    };
    if (f instanceof Data_Medea_ValidJSON.StringF) {
        return Data_Argonaut_Encode_Class.encodeJson(Data_Argonaut_Encode_Class.encodeJsonJString)(f.value0);
    };
    if (f instanceof Data_Medea_ValidJSON.ArrayF) {
        return Data_Argonaut_Encode_Class.encodeJson(Data_Argonaut_Encode_Class.encodeJsonArray(Data_Argonaut_Encode_Class.encodeJsonJson))(Data_Functor.map(Data_Functor.functorArray)(function ($355) {
            return toJSONValue($355);
        })(f.value0));
    };
    if (f instanceof Data_Medea_ValidJSON.ObjectF) {
        return hashmapEncodeJson(Data_Functor.map(Data_HashMap.functorHashMap)(function ($356) {
            return toJSONValue($356);
        })(f.value0));
    };
    throw new Error("Failed pattern match at Data.Medea (line 88, column 5 - line 95, column 80): " + [ f.constructor.name ]);
};
var genericValidationError = {
    to: function (x) {
        if (x instanceof Data_Generic_Rep.Inl) {
            return EmptyError.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inl) {
            return NotJSON.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0 instanceof Data_Generic_Rep.Inl)) {
            return new WrongType(x.value0.value0.value0.value0, x.value0.value0.value0.value1);
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0 instanceof Data_Generic_Rep.Inl))) {
            return new NotOneOfOptions(x.value0.value0.value0.value0);
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inl)))) {
            return new AdditionalPropFoundButBanned(x.value0.value0.value0.value0.value0.value0, x.value0.value0.value0.value0.value0.value1);
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inl))))) {
            return new RequiredPropertyIsMissing(x.value0.value0.value0.value0.value0.value0.value0, x.value0.value0.value0.value0.value0.value0.value1);
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inl)))))) {
            return new OutOfBoundsArrayLength(x.value0.value0.value0.value0.value0.value0.value0.value0, x.value0.value0.value0.value0.value0.value0.value0.value1);
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr)))))) {
            return new ImplementationError(x.value0.value0.value0.value0.value0.value0.value0);
        };
        throw new Error("Failed pattern match at Data.Medea (line 123, column 1 - line 123, column 68): " + [ x.constructor.name ]);
    },
    from: function (x) {
        if (x instanceof EmptyError) {
            return new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value);
        };
        if (x instanceof NotJSON) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value));
        };
        if (x instanceof WrongType) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(new Data_Generic_Rep.Product(x.value0, x.value1))));
        };
        if (x instanceof NotOneOfOptions) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(x.value0))));
        };
        if (x instanceof AdditionalPropFoundButBanned) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(new Data_Generic_Rep.Product(x.value0, x.value1))))));
        };
        if (x instanceof RequiredPropertyIsMissing) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(new Data_Generic_Rep.Product(x.value0, x.value1)))))));
        };
        if (x instanceof OutOfBoundsArrayLength) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(new Data_Generic_Rep.Product(x.value0, x.value1))))))));
        };
        if (x instanceof ImplementationError) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(x.value0)))))));
        };
        throw new Error("Failed pattern match at Data.Medea (line 123, column 1 - line 123, column 68): " + [ x.constructor.name ]);
    }
};
var genericValidatedJSON = {
    to: function (x) {
        return x;
    },
    from: function (x) {
        return x;
    }
};
var genericSchemaInformation = {
    to: function (x) {
        if (x instanceof Data_Generic_Rep.Inl) {
            return AnySchema.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inl) {
            return NullSchema.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0 instanceof Data_Generic_Rep.Inl)) {
            return BooleanSchema.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0 instanceof Data_Generic_Rep.Inl))) {
            return NumberSchema.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inl)))) {
            return StringSchema.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inl))))) {
            return ArraySchema.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inl)))))) {
            return ObjectSchema.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inl))))))) {
            return StartSchema.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && (x.value0.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0.value0.value0.value0.value0.value0 instanceof Data_Generic_Rep.Inr))))))) {
            return new UserDefined(x.value0.value0.value0.value0.value0.value0.value0.value0);
        };
        throw new Error("Failed pattern match at Data.Medea (line 51, column 1 - line 51, column 72): " + [ x.constructor.name ]);
    },
    from: function (x) {
        if (x instanceof AnySchema) {
            return new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value);
        };
        if (x instanceof NullSchema) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value));
        };
        if (x instanceof BooleanSchema) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value)));
        };
        if (x instanceof NumberSchema) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value))));
        };
        if (x instanceof StringSchema) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value)))));
        };
        if (x instanceof ArraySchema) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value))))));
        };
        if (x instanceof ObjectSchema) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value)))))));
        };
        if (x instanceof StartSchema) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value))))))));
        };
        if (x instanceof UserDefined) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(x.value0))))))));
        };
        throw new Error("Failed pattern match at Data.Medea (line 51, column 1 - line 51, column 72): " + [ x.constructor.name ]);
    }
};
var showSchemaInformation = {
    show: function (x) {
        return Data_Show_Generic.genericShow(genericSchemaInformation)(Data_Show_Generic.genericShowSum(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments)({
            reflectSymbol: function () {
                return "AnySchema";
            }
        }))(Data_Show_Generic.genericShowSum(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments)({
            reflectSymbol: function () {
                return "NullSchema";
            }
        }))(Data_Show_Generic.genericShowSum(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments)({
            reflectSymbol: function () {
                return "BooleanSchema";
            }
        }))(Data_Show_Generic.genericShowSum(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments)({
            reflectSymbol: function () {
                return "NumberSchema";
            }
        }))(Data_Show_Generic.genericShowSum(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments)({
            reflectSymbol: function () {
                return "StringSchema";
            }
        }))(Data_Show_Generic.genericShowSum(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments)({
            reflectSymbol: function () {
                return "ArraySchema";
            }
        }))(Data_Show_Generic.genericShowSum(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments)({
            reflectSymbol: function () {
                return "ObjectSchema";
            }
        }))(Data_Show_Generic.genericShowSum(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments)({
            reflectSymbol: function () {
                return "StartSchema";
            }
        }))(Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsArgument(Data_Show.showString))({
            reflectSymbol: function () {
                return "UserDefined";
            }
        }))))))))))(x);
    }
};
var showValidatedJSON = {
    show: function (v) {
        var showed = Data_Show.show(showSchemaInformation)(Control_Comonad.extract(Control_Comonad_Cofree.comonadCofree(Data_Medea_ValidJSON.functorValidJSONF))(v));
        return "Cofree ( " + (showed + " )");
    }
};
var forceNonEmptyFromSet$prime = function (dictPartial) {
    return function (dictOrd) {
        return function (sa) {
            var fromJust = function (v) {
                if (v instanceof Data_Maybe.Just) {
                    return v.value0;
                };
                throw new Error("Failed pattern match at Data.Medea (line 351, column 3 - line 351, column 24): " + [ v.constructor.name ]);
            };
            var head$prime = fromJust(Data_Set.findMin(sa));
            var tail$prime = Data_Set["delete"](dictOrd)(head$prime)(sa);
            return new Data_NonEmpty.NonEmpty(head$prime, tail$prime);
        };
    };
};
var forceNonEmptyFromSet = function (dictOrd) {
    return forceNonEmptyFromSet$prime()(dictOrd);
};
var eqValidationError = {
    eq: function (x) {
        return function (y) {
            if (x instanceof EmptyError && y instanceof EmptyError) {
                return true;
            };
            if (x instanceof NotJSON && y instanceof NotJSON) {
                return true;
            };
            if (x instanceof WrongType && y instanceof WrongType) {
                return Data_Eq.eq(Data_Argonaut_Core.eqJson)(x.value0)(y.value0) && Data_Eq.eq(Data_Medea_JSONType.eqJSONType)(x.value1)(y.value1);
            };
            if (x instanceof NotOneOfOptions && y instanceof NotOneOfOptions) {
                return Data_Eq.eq(Data_Argonaut_Core.eqJson)(x.value0)(y.value0);
            };
            if (x instanceof AdditionalPropFoundButBanned && y instanceof AdditionalPropFoundButBanned) {
                return x.value0 === y.value0 && x.value1 === y.value1;
            };
            if (x instanceof RequiredPropertyIsMissing && y instanceof RequiredPropertyIsMissing) {
                return x.value0 === y.value0 && x.value1 === y.value1;
            };
            if (x instanceof OutOfBoundsArrayLength && y instanceof OutOfBoundsArrayLength) {
                return x.value0 === y.value0 && Data_Eq.eq(Data_Argonaut_Core.eqJson)(x.value1)(y.value1);
            };
            if (x instanceof ImplementationError && y instanceof ImplementationError) {
                return x.value0 === y.value0;
            };
            return false;
        };
    }
};
var eqSchemaInformation = {
    eq: function (x) {
        return function (y) {
            if (x instanceof AnySchema && y instanceof AnySchema) {
                return true;
            };
            if (x instanceof NullSchema && y instanceof NullSchema) {
                return true;
            };
            if (x instanceof BooleanSchema && y instanceof BooleanSchema) {
                return true;
            };
            if (x instanceof NumberSchema && y instanceof NumberSchema) {
                return true;
            };
            if (x instanceof StringSchema && y instanceof StringSchema) {
                return true;
            };
            if (x instanceof ArraySchema && y instanceof ArraySchema) {
                return true;
            };
            if (x instanceof ObjectSchema && y instanceof ObjectSchema) {
                return true;
            };
            if (x instanceof StartSchema && y instanceof StartSchema) {
                return true;
            };
            if (x instanceof UserDefined && y instanceof UserDefined) {
                return x.value0 === y.value0;
            };
            return false;
        };
    }
};
var eqValidatedJSON = Control_Comonad_Cofree.eqCofree(Data_Medea_ValidJSON.eq1ValidJSONF)(eqSchemaInformation);
var hashableSchemaInformation = {
    hash: function (v) {
        if (v instanceof AnySchema) {
            return 0;
        };
        if (v instanceof NullSchema) {
            return 1;
        };
        if (v instanceof BooleanSchema) {
            return 2;
        };
        if (v instanceof NumberSchema) {
            return 3;
        };
        if (v instanceof StringSchema) {
            return 4;
        };
        if (v instanceof ArraySchema) {
            return 5;
        };
        if (v instanceof ObjectSchema) {
            return 6;
        };
        if (v instanceof StartSchema) {
            return 7;
        };
        if (v instanceof UserDefined) {
            return 8 + Data_Hashable.hash(Data_Hashable.hashableString)(v.value0) | 0;
        };
        throw new Error("Failed pattern match at Data.Medea (line 56, column 1 - line 65, column 38): " + [ v.constructor.name ]);
    },
    Eq0: function () {
        return eqSchemaInformation;
    }
};
var hashableValidatedJSON = {
    hash: function (v) {
        return Data_Hashable.hash(hashableSchemaInformation)(Control_Comonad.extract(Control_Comonad_Cofree.comonadCofree(Data_Medea_ValidJSON.functorValidJSONF))(v));
    },
    Eq0: function () {
        return eqValidatedJSON;
    }
};
var decode = function ($357) {
    return Data_Either.hush(Data_Argonaut_Parser.jsonParser($357));
};
var compareMaybe = function (f) {
    return function (i) {
        return function (mn) {
            return Data_Maybe.maybe(false)(function (n) {
                return f(i)(Data_Natural.natToInt(n));
            })(mn);
        };
    };
};
var checkTupleLength = function (dictMonadError) {
    return function (arr) {
        return function (err) {
            return function (v) {
                if (v instanceof Data_Medea_Analysis.ListType) {
                    return Control_Applicative.pure(((dictMonadError.MonadThrow0()).Monad0()).Applicative0())(Data_Unit.unit);
                };
                if (v instanceof Data_Medea_Analysis.TupleType) {
                    var $315 = Data_Array.length(v.value0) === Data_Array.length(arr);
                    if ($315) {
                        return Control_Applicative.pure(((dictMonadError.MonadThrow0()).Monad0()).Applicative0())(Data_Unit.unit);
                    };
                    return Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(err);
                };
                throw new Error("Failed pattern match at Data.Medea (line 273, column 1 - line 273, column 88): " + [ arr.constructor.name, err.constructor.name, v.constructor.name ]);
            };
        };
    };
};
var checkAny = function (dictAlternative) {
    return function (dictMonadState) {
        return function (dictMonadError) {
            return function (v) {
                return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_State_Class.gets(dictMonadState)((function () {
                    var $358 = Data_NonEmpty.fromNonEmpty(Data_Set.insert(Data_Medea_Analysis.ordTypeNode));
                    return function ($359) {
                        return Data_Set.findMin($358(Data_Tuple.fst($359)));
                    };
                })()))(function (minNode) {
                    if (minNode instanceof Data_Maybe.Just && minNode.value0 instanceof Data_Medea_Analysis.AnyNode) {
                        return Control_Applicative.pure(dictAlternative.Applicative0())(Control_Comonad_Cofree.mkCofree(AnySchema.value)(Data_Medea_ValidJSON.AnythingF.create(v)));
                    };
                    return Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(EmptyError.value);
                });
            };
        };
    };
};
var asum = function (dictFoldable) {
    return function (dictAlternative) {
        return Data_Foldable.foldr(dictFoldable)(Control_Alt.alt((dictAlternative.Plus1()).Alt0()))(Control_Plus.empty(dictAlternative.Plus1()));
    };
};
var anySet = new Data_NonEmpty.NonEmpty(Data_Medea_Analysis.AnyNode.value, Data_Set.empty);
var checkTypes = function (dictAlternative) {
    return function (dictMonadReader) {
        return function (dictMonadState) {
            return function (dictMonadError) {
                return function (v) {
                    return Control_Alt.alt((dictAlternative.Plus1()).Alt0())(Control_Alt.alt((dictAlternative.Plus1()).Alt0())(checkAny(dictAlternative)(dictMonadState)(dictMonadError)(v))(checkPrim(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError)(v)))(checkCustoms(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError)(v));
                };
            };
        };
    };
};
var checkPrim = function (dictAlternative) {
    return function (dictMonadReader) {
        return function (dictMonadState) {
            return function (dictMonadError) {
                return function (v) {
                    return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_State_Class.gets(dictMonadState)(Control_Category.identity(Control_Category.categoryFn)))(function (v1) {
                        var nodes = Data_NonEmpty.fromNonEmpty(Data_Set.insert(Data_Medea_Analysis.ordTypeNode))(v1.value0);
                        return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Applicative.unless(dictAlternative.Applicative0())(Data_Set.member(Data_Medea_Analysis.ordTypeNode)(Data_Medea_Analysis.PrimitiveNode.create(Data_Medea_JSONType.typeOf(v)))(nodes))(Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(NotOneOfOptions.create(v))))(function () {
                            return Data_Argonaut_Core.caseJson(function ($$null) {
                                return Control_Applicative.pure(dictAlternative.Applicative0())(Control_Comonad_Cofree.mkCofree(NullSchema.value)(Data_Medea_ValidJSON.NullF.value));
                            })(function (bool) {
                                return Control_Applicative.pure(dictAlternative.Applicative0())(Control_Comonad_Cofree.mkCofree(BooleanSchema.value)(new Data_Medea_ValidJSON.BooleanF(bool)));
                            })(function (num) {
                                return Control_Applicative.pure(dictAlternative.Applicative0())(Control_Comonad_Cofree.mkCofree(NumberSchema.value)(new Data_Medea_ValidJSON.NumberF(num)));
                            })(function (str) {
                                var validated = Control_Applicative.pure(dictAlternative.Applicative0())(Control_Comonad_Cofree.mkCofree(StringSchema.value)(new Data_Medea_ValidJSON.StringF(str)));
                                if (v1.value1 instanceof Data_Maybe.Nothing) {
                                    return validated;
                                };
                                if (v1.value1 instanceof Data_Maybe.Just) {
                                    return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(lookupSchema(dictMonadReader)(dictMonadError)(v1.value1.value0))(function (v2) {
                                        var $322 = Data_Array.elem(Data_Eq.eqString)(str)(v2.value0.stringVals) || Data_Array["null"](v2.value0.stringVals);
                                        if ($322) {
                                            return Control_Applicative.pure(dictAlternative.Applicative0())(Control_Comonad_Cofree.mkCofree(StringSchema.value)(new Data_Medea_ValidJSON.StringF(str)));
                                        };
                                        return Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(new NotOneOfOptions(v));
                                    });
                                };
                                throw new Error("Failed pattern match at Data.Medea (line 189, column 9 - line 198, column 45): " + [ v1.value1.constructor.name ]);
                            })(function (arr) {
                                if (v1.value1 instanceof Data_Maybe.Nothing) {
                                    return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_State_Class.put(dictMonadState)(new Data_Tuple.Tuple(anySet, Data_Maybe.Nothing.value)))(function () {
                                        return Data_Functor.map(((dictAlternative.Plus1()).Alt0()).Functor0())(function ($360) {
                                            return (function (v2) {
                                                return Control_Comonad_Cofree.mkCofree(ArraySchema.value)(v2);
                                            })(Data_Medea_ValidJSON.ArrayF.create($360));
                                        })(Data_Traversable.traverse(Data_Traversable.traversableArray)(dictAlternative.Applicative0())(checkTypes(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError))(arr));
                                    });
                                };
                                if (v1.value1 instanceof Data_Maybe.Just) {
                                    return checkArray(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError)(arr)(v1.value1.value0);
                                };
                                throw new Error("Failed pattern match at Data.Medea (line 201, column 9 - line 205, column 51): " + [ v1.value1.constructor.name ]);
                            })(function (o) {
                                var obj = Data_Medea_ValidJSON.objectToHashMap(o);
                                if (v1.value1 instanceof Data_Maybe.Nothing) {
                                    return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_State_Class.put(dictMonadState)(new Data_Tuple.Tuple(anySet, Data_Maybe.Nothing.value)))(function () {
                                        return Data_Functor.map(((dictAlternative.Plus1()).Alt0()).Functor0())(function ($361) {
                                            return (function (v2) {
                                                return Control_Comonad_Cofree.mkCofree(ObjectSchema.value)(v2);
                                            })(Data_Medea_ValidJSON.ObjectF.create($361));
                                        })(Data_Traversable.traverse(Data_HashMap.traversableHashMap)(dictAlternative.Applicative0())(checkTypes(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError))(obj));
                                    });
                                };
                                if (v1.value1 instanceof Data_Maybe.Just) {
                                    return checkObject(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError)(obj)(v1.value1.value0);
                                };
                                throw new Error("Failed pattern match at Data.Medea (line 211, column 11 - line 216, column 54): " + [ v1.value1.constructor.name ]);
                            })(v);
                        });
                    });
                };
            };
        };
    };
};
var checkObject = function (dictAlternative) {
    return function (dictMonadReader) {
        return function (dictMonadState) {
            return function (dictMonadError) {
                return function (obj) {
                    return function (parIdent) {
                        var assess = function (v) {
                            return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_State_Class.put(dictMonadState)(new Data_Tuple.Tuple(new Data_NonEmpty.NonEmpty(v.value1, Data_Set.empty), Data_Maybe.Nothing.value)))(function () {
                                return checkTypes(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError)(v.value0);
                            });
                        };
                        return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(lookupSchema(dictMonadReader)(dictMonadError)(parIdent))(function (v) {
                            return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(pairPropertySchemaAndVal(dictAlternative)(dictMonadReader)(dictMonadError)(obj)(parIdent))(function (valsAndTypes) {
                                return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Data_Traversable.traverse(Data_HashMap.traversableHashMap)(dictAlternative.Applicative0())(assess)(valsAndTypes))(function (checkedObj) {
                                    return Control_Applicative.pure(dictAlternative.Applicative0())(Control_Comonad_Cofree.mkCofree(ObjectSchema.value)(new Data_Medea_ValidJSON.ObjectF(checkedObj)));
                                });
                            });
                        });
                    };
                };
            };
        };
    };
};
var checkCustoms = function (dictAlternative) {
    return function (dictMonadReader) {
        return function (dictMonadState) {
            return function (dictMonadError) {
                return function (v) {
                    var checkCustom = function (v1) {
                        if (v1 instanceof Data_Medea_Analysis.CustomNode) {
                            return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(lookupSchema(dictMonadReader)(dictMonadError)(v1.value0))(function (v2) {
                                return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_State_Class.put(dictMonadState)(new Data_Tuple.Tuple(v2.value0.typesAs, new Data_Maybe.Just(v1.value0))))(function () {
                                    return Data_Functor.map(((dictAlternative.Plus1()).Alt0()).Functor0())(function (v3) {
                                        return Data_Functor.voidLeft(Control_Comonad_Cofree.functorCofree(Data_Medea_ValidJSON.functorValidJSONF))(v3)(UserDefined.create(textify(v1.value0)));
                                    })(checkTypes(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError)(v));
                                });
                            });
                        };
                        return Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(new ImplementationError("checkCustom received non-custom as input"));
                    };
                    return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_State_Class.gets(dictMonadState)(Data_Tuple.fst))(function (nodes) {
                        var nodeSet = Data_NonEmpty.fromNonEmpty(Data_Set.insert(Data_Medea_Analysis.ordTypeNode))(nodes);
                        var customNodeSet = Data_Set.filter(Data_Medea_Analysis.ordTypeNode)(isCustom)(nodeSet);
                        var customNodeArr = Data_Set.toUnfoldable(Data_Unfoldable.unfoldableArray)(customNodeSet);
                        return asum(Data_Foldable.foldableArray)(dictAlternative)(Data_Functor.map(Data_Functor.functorArray)(checkCustom)(customNodeArr));
                    });
                };
            };
        };
    };
};
var checkArray = function (dictAlternative) {
    return function (dictMonadReader) {
        return function (dictMonadState) {
            return function (dictMonadError) {
                return function (arr) {
                    return function (parIdent) {
                        var pairValsWithTypes = function (v) {
                            if (v instanceof Data_Maybe.Nothing) {
                                return Data_Functor.map(Data_Functor.functorArray)(function (v1) {
                                    return new Data_Tuple.Tuple(v1, Data_Medea_Analysis.AnyNode.value);
                                })(arr);
                            };
                            if (v instanceof Data_Maybe.Just && v.value0 instanceof Data_Medea_Analysis.ListType) {
                                return Data_Functor.map(Data_Functor.functorArray)(function (v1) {
                                    return new Data_Tuple.Tuple(v1, v.value0.value0);
                                })(arr);
                            };
                            if (v instanceof Data_Maybe.Just && v.value0 instanceof Data_Medea_Analysis.TupleType) {
                                return Data_Array.zip(arr)(v.value0.value0);
                            };
                            throw new Error("Failed pattern match at Data.Medea (line 264, column 3 - line 264, column 53): " + [ v.constructor.name ]);
                        };
                        var assess = function (v) {
                            return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Monad_State_Class.put(dictMonadState)(new Data_Tuple.Tuple(new Data_NonEmpty.NonEmpty(v.value1, Data_Set.empty), Data_Maybe.Nothing.value)))(function () {
                                return checkTypes(dictAlternative)(dictMonadReader)(dictMonadState)(dictMonadError)(v.value0);
                            });
                        };
                        return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(lookupSchema(dictMonadReader)(dictMonadError)(parIdent))(function (v) {
                            var outOfBounds = OutOfBoundsArrayLength.create(textify(parIdent))(Data_Argonaut_Encode_Class.encodeJson(Data_Argonaut_Encode_Class.encodeJsonArray(Data_Argonaut_Encode_Class.encodeJsonJson))(arr));
                            var arrLen = Data_Array.length(arr);
                            return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Control_Applicative.when(dictAlternative.Applicative0())(compareMaybe(Data_Ord.lessThan(Data_Ord.ordInt))(arrLen)(v.value0.minListLen) || compareMaybe(Data_Ord.greaterThan(Data_Ord.ordInt))(arrLen)(v.value0.maxListLen))(Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(outOfBounds)))(function () {
                                return Control_Bind.discard(Control_Bind.discardUnit)(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Data_Maybe.maybe(Control_Applicative.pure(dictAlternative.Applicative0())(Data_Unit.unit))(checkTupleLength(dictMonadError)(arr)(outOfBounds))(v.value0.arrayTypes))(function () {
                                    var valsAndTypes = pairValsWithTypes(v.value0.arrayTypes);
                                    return Control_Bind.bind(((dictMonadError.MonadThrow0()).Monad0()).Bind1())(Data_Traversable.traverse(Data_Traversable.traversableArray)(dictAlternative.Applicative0())(assess)(valsAndTypes))(function (checkedArray) {
                                        return Control_Applicative.pure(dictAlternative.Applicative0())(Control_Comonad_Cofree.mkCofree(ArraySchema.value)(new Data_Medea_ValidJSON.ArrayF(checkedArray)));
                                    });
                                });
                            });
                        });
                    };
                };
            };
        };
    };
};
var validate = function (dictMonadPlus) {
    return function (dictMonadError) {
        return function (scm) {
            return function (str) {
                var initialSet = (function (v) {
                    return new Data_NonEmpty.NonEmpty(v, Data_Set.empty);
                })(Data_Medea_Analysis.CustomNode.create(Data_Medea_Parser_Primitive.identFromReserved(Data_Medea_Parser_Primitive.RStart.value)));
                var go = function (v) {
                    return Control_Monad_Reader_Trans.runReaderT(Control_Monad_State_Trans.evalStateT(Control_Monad_Reader_Trans.functorReaderT(((((dictMonadError.MonadThrow0()).Monad0()).Bind1()).Apply0()).Functor0()))(checkTypes(Control_Monad_State_Trans.alternativeStateT(Control_Monad_Reader_Trans.monadReaderT((dictMonadError.MonadThrow0()).Monad0()))(Control_Monad_Reader_Trans.alternativeReaderT(dictMonadPlus.Alternative1())))(Control_Monad_State_Trans.monadReaderStateT(Control_Monad_Reader_Trans.monadReaderReaderT((dictMonadError.MonadThrow0()).Monad0())))(Control_Monad_State_Trans.monadStateStateT(Control_Monad_Reader_Trans.monadReaderT((dictMonadError.MonadThrow0()).Monad0())))(Control_Monad_State_Trans.monadErrorStateT(Control_Monad_Reader_Trans.monadErrorReaderT(dictMonadError)))(v))(new Data_Tuple.Tuple(initialSet, Data_Maybe.Nothing.value)))(scm);
                };
                var v = decode(str);
                if (v instanceof Data_Maybe.Nothing) {
                    return Control_Monad_Error_Class.throwError(dictMonadError.MonadThrow0())(NotJSON.value);
                };
                if (v instanceof Data_Maybe.Just) {
                    return Data_Functor.map(((((dictMonadError.MonadThrow0()).Monad0()).Bind1()).Apply0()).Functor0())(ValidatedJSON)(go(v.value0));
                };
                throw new Error("Failed pattern match at Data.Medea (line 147, column 20 - line 149, column 35): " + [ v.constructor.name ]);
            };
        };
    };
};
var validateFromFile = function (dictMonadPlus) {
    return function (dictMonadError) {
        return function (dictMonadAff) {
            return function (scm) {
                return function (fp) {
                    return Control_Bind.bind(((dictMonadAff.MonadEffect0()).Monad0()).Bind1())(Effect_Aff_Class.liftAff(dictMonadAff)(Node_FS_Aff.readTextFile(Node_Encoding.UTF8.value)(fp)))(function (contents) {
                        return validate(dictMonadPlus)(dictMonadError)(scm)(fp);
                    });
                };
            };
        };
    };
};
module.exports = {
    AnySchema: AnySchema,
    NullSchema: NullSchema,
    BooleanSchema: BooleanSchema,
    NumberSchema: NumberSchema,
    StringSchema: StringSchema,
    ArraySchema: ArraySchema,
    ObjectSchema: ObjectSchema,
    StartSchema: StartSchema,
    UserDefined: UserDefined,
    ValidatedJSON: ValidatedJSON,
    toJSONValue: toJSONValue,
    hashmapEncodeJson: hashmapEncodeJson,
    validAgainst: validAgainst,
    EmptyError: EmptyError,
    NotJSON: NotJSON,
    WrongType: WrongType,
    NotOneOfOptions: NotOneOfOptions,
    AdditionalPropFoundButBanned: AdditionalPropFoundButBanned,
    RequiredPropertyIsMissing: RequiredPropertyIsMissing,
    OutOfBoundsArrayLength: OutOfBoundsArrayLength,
    ImplementationError: ImplementationError,
    decode: decode,
    validate: validate,
    validateFromFile: validateFromFile,
    checkTypes: checkTypes,
    checkAny: checkAny,
    checkPrim: checkPrim,
    lookupSchema: lookupSchema,
    mergeHashMapsWithKeyM: mergeHashMapsWithKeyM,
    pairKeyVal: pairKeyVal,
    joinThisThat: joinThisThat,
    "joinThisThat'": joinThisThat$prime,
    checkArray: checkArray,
    compareMaybe: compareMaybe,
    checkTupleLength: checkTupleLength,
    checkObject: checkObject,
    pairPropertySchemaAndVal: pairPropertySchemaAndVal,
    checkCustoms: checkCustoms,
    asum: asum,
    forceNonEmptyFromSet: forceNonEmptyFromSet,
    "forceNonEmptyFromSet'": forceNonEmptyFromSet$prime,
    anySet: anySet,
    textify: textify,
    isCustom: isCustom,
    eqSchemaInformation: eqSchemaInformation,
    genericSchemaInformation: genericSchemaInformation,
    showSchemaInformation: showSchemaInformation,
    hashableSchemaInformation: hashableSchemaInformation,
    eqValidatedJSON: eqValidatedJSON,
    genericValidatedJSON: genericValidatedJSON,
    showValidatedJSON: showValidatedJSON,
    hashableValidatedJSON: hashableValidatedJSON,
    eqValidationError: eqValidationError,
    genericValidationError: genericValidationError,
    showValidationError: showValidationError,
    semigroupValidationError: semigroupValidationError,
    monoidValidationError: monoidValidationError
};
